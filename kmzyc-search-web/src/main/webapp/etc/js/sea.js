/*!
 * Sea.js 2.0.2 | seajs.org/LICENSE.md
 * Author: lifesinger & suguiyun
 * Date: 2013-12-13
 */
!function(t,e){function i(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function n(){return _++}function s(t){return t.match(C)[0]}function r(t){for(t=t.replace(T,"/");t.match(N);)t=t.replace(N,"/");return t=t.replace(A,"$1/")}function o(t){var e=t.length-1,i=t.charAt(e);return"#"===i?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===i?t:t+".js"}function a(t){var e=k.alias;return e&&x(e[t])?e[t]:t}function l(t){var e,i=k.paths;return i&&(e=t.match(O))&&x(i[e[1]])&&(t=i[e[1]]+e[2]),t}function c(t){var e=k.vars;return e&&t.indexOf("{")>-1&&(t=t.replace(D,function(t,i){return x(e[i])?e[i]:t})),t}function h(t){var e=k.map,i=t;if(e)for(var n=0,s=e.length;s>n;n++){var r=e[n];if(i=S(r)?r(t)||t:t.replace(r[0],r[1]),i!==t)break}return i}function u(t,e){var i,n=t.charAt(0);if(I.test(t))i=t;else if("."===n)i=r((e?s(e):k.cwd)+t);else if("/"===n){var o=k.cwd.match(L);i=o?o[0]+t.substring(1):t}else i=k.base+t;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function d(t,e){if(!t)return"";t=a(t),t=l(t),t=c(t),t=o(t);var i=u(t,e);return i=h(i)}function p(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}function f(t,e,i){var n=G.test(t),s=R.createElement(n?"link":"script");if(i){var r=S(i)?i(t):i;r&&(s.charset=r)}g(s,e,n,t),n?(s.rel="stylesheet",s.href=t):(s.async=!0,s.src=t),V=s,U?B.insertBefore(s,U):B.appendChild(s),V=null}function g(t,e,i,n){function s(){t.onload=t.onerror=t.onreadystatechange=null,i||k.debug||B.removeChild(t),t=null,e()}var r="onload"in t;return!i||!K&&r?(r?(t.onload=s,t.onerror=function(){E("error",{uri:n,node:t}),s()}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&s()},void 0):(setTimeout(function(){m(t,e)},1),void 0)}function m(t,e){var i,n=t.sheet;if(K)n&&(i=!0);else if(n)try{n.cssRules&&(i=!0)}catch(s){"NS_ERROR_DOM_SECURITY_ERR"===s.name&&(i=!0)}setTimeout(function(){i?e():m(t,e)},20)}function v(){if(V)return V;if(z&&"interactive"===z.readyState)return z;for(var t=B.getElementsByTagName("script"),e=t.length-1;e>=0;e--){var i=t[e];if("interactive"===i.readyState)return z=i}}function b(t){var e=[];return t.replace(W,"").replace(Z,function(t,i,n){n&&e.push(n)}),e}function y(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!t.seajs){var w=t.seajs={version:"2.2.0"},k=w.data={},$=i("Object"),x=i("String"),j=Array.isArray||i("Array"),S=i("Function"),_=0,P=k.events={};w.on=function(t,e){var i=P[t]||(P[t]=[]);return i.push(e),w},w.off=function(t,e){if(!t&&!e)return P=k.events={},w;var i=P[t];if(i)if(e)for(var n=i.length-1;n>=0;n--)i[n]===e&&i.splice(n,1);else delete P[t];return w};var E=w.emit=function(t,e){var i,n=P[t];if(n)for(n=n.slice();i=n.shift();)i(e);return w},C=/[^?#]*\//,T=/\/\.\//g,N=/\/[^/]+\/\.\.\//,A=/([^:/])\/\//g,O=/^([^/:]+)(\/.+)$/,D=/{([^{]+)}/g,I=/^\/\/.|:\//,L=/^.*?\/\/.*?\//,R=document,q=s(R.URL),M=R.scripts,H=R.getElementById("seajsnode")||M[M.length-1],F=s(p(H)||q);w.resolve=d;var V,z,B=R.getElementsByTagName("head")[0]||R.documentElement,U=B.getElementsByTagName("base")[0],G=/\.css(?:\?|$)/i,K=+navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536;w.request=f;var J,Z=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,W=/\\\\/g,X=w.cache={},Y={},Q={},te={},ee=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var t=this,e=t.dependencies,i=[],n=0,s=e.length;s>n;n++)i[n]=y.resolve(e[n],t.uri);return i},y.prototype.load=function(){var t=this;if(!(t.status>=ee.LOADING)){t.status=ee.LOADING;var e=t.resolve();E("load",e);for(var i,n=t._remain=e.length,s=0;n>s;s++)i=y.get(e[s]),i.status<ee.LOADED?i._waitings[t.uri]=(i._waitings[t.uri]||0)+1:t._remain--;if(0===t._remain)return t.onload(),void 0;var r={};for(s=0;n>s;s++)i=X[e[s]],i.status<ee.FETCHING?i.fetch(r):i.status===ee.SAVED&&i.load();for(var o in r)r.hasOwnProperty(o)&&r[o]()}},y.prototype.onload=function(){var t=this;t.status=ee.LOADED,t.callback&&t.callback();var e,i,n=t._waitings;for(e in n)n.hasOwnProperty(e)&&(i=X[e],i._remain-=n[e],0===i._remain&&i.onload());delete t._waitings,delete t._remain},y.prototype.fetch=function(t){function e(){w.request(r.requestUri,r.onRequest,r.charset)}function i(){delete Y[o],Q[o]=!0,J&&(y.save(s,J),J=null);var t,e=te[o];for(delete te[o];t=e.shift();)t.load()}var n=this,s=n.uri;n.status=ee.FETCHING;var r={uri:s};E("fetch",r);var o=r.requestUri||s;return!o||Q[o]?(n.load(),void 0):Y[o]?(te[o].push(n),void 0):(Y[o]=!0,te[o]=[n],E("request",r={uri:s,requestUri:o,onRequest:i,charset:k.charset}),r.requested||(t?t[r.requestUri]=e:e()),void 0)},y.prototype.exec=function(){function t(e){return y.get(t.resolve(e)).exec()}var i=this;if(i.status>=ee.EXECUTING)return i.exports;i.status=ee.EXECUTING;var s=i.uri;t.resolve=function(t){return y.resolve(t,s)},t.async=function(e,i){return y.use(e,i,s+"_async_"+n()),t};var r=i.factory,o=S(r)?r(t,i.exports={},i):r;return o===e&&(o=i.exports),delete i.factory,i.exports=o,i.status=ee.EXECUTED,E("exec",i),o},y.resolve=function(t,e){var i={id:t,refUri:e};return E("resolve",i),i.uri||w.resolve(i.id,e)},y.define=function(t,i,n){var s=arguments.length;1===s?(n=t,t=e):2===s&&(n=i,j(t)?(i=t,t=e):i=e),!j(i)&&S(n)&&(i=b(n.toString()));var r={id:t,uri:y.resolve(t),deps:i,factory:n};if(!r.uri&&R.attachEvent){var o=v();o&&(r.uri=o.src)}E("define",r),r.uri?y.save(r.uri,r):J=r},y.save=function(t,e){var i=y.get(t);i.status<ee.SAVED&&(i.id=e.id||t,i.dependencies=e.deps||[],i.factory=e.factory,i.status=ee.SAVED)},y.get=function(t,e){return X[t]||(X[t]=new y(t,e))},y.use=function(e,i,n){var s=y.get(n,j(e)?e:[e]);s.callback=function(){for(var e=[],n=s.resolve(),r=0,o=n.length;o>r;r++)e[r]=X[n[r]].exec();i&&i.apply(t,e),delete s.callback},s.load()},y.preload=function(t){var e=k.preload,i=e.length;i?y.use(e,function(){e.splice(0,i),y.preload(t)},k.cwd+"_preload_"+n()):t()},w.use=function(t,e){return y.preload(function(){y.use(t,e,k.cwd+"_use_"+n())}),w},y.define.cmd={},t.define=y.define,w.Module=y,k.fetchedList=Q,k.cid=n,w.require=function(t){var e=y.get(y.resolve(t));return e.status<ee.EXECUTING&&e.exec(),e.exports};var ie=/^(.+?\/)(\?\?)?(seajs\/)+/;k.base=(F.match(ie)||["",F])[1],k.dir=F,k.cwd=q,k.charset="utf-8",k.preload=function(){var t=[],e=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return e+=" "+R.cookie,e.replace(/(seajs-\w+)=1/g,function(e,i){t.push(i)}),t}(),w.config=function(t){for(var e in t){var i=t[e],n=k[e];if(n&&$(n))for(var s in i)n[s]=i[s];else j(n)?i=n.concat(i):"base"===e&&("/"!==i.slice(-1)&&(i+="/"),i=u(i)),k[e]=i}return E("config",t),w}}}(this),function(t,e){var i=t.data;t.log=function(t,n){e.console&&i.debug&&console[n||(n="log")]&&console[n](t)}}(seajs,window);var MK=MK||{};MK.VERSION=(new Date).getTime(),MK.DEBUG=1,function(t,e){var i=[];!Function.prototype.bind&&i.push("base/es5-safe/0.9.2/es5-safe"),!e.JSON&&i.push("base/json/1.0.0/json2"),t.config({debug:MK.DEBUG,preload:i})}(seajs,window),function(t,e){var i=t.data;t.log=function(t,n){e.console&&i.debug&&console[n||(n="log")]&&console[n](t)}}(seajs,window);var MK=MK||{};MK.VERSION=(new Date).getTime(),MK.DEBUG=1,function(t,e){var i=[];!Function.prototype.bind&&i.push("base/es5-safe/0.9.2/es5-safe"),!e.JSON&&i.push("base/json/1.0.0/json2"),t.config({debug:MK.DEBUG,preload:i})}(seajs,window),define("common/suggest",["base/jquery/1.8.3/jquery"],function(require,exports,module){var $=require("base/jquery/1.8.3/jquery");$(function(){var portalPath=$("#portalPath").attr("data_id"),picPath=$("#picPath").attr("data_id"),detailPath=$("#detailPath").attr("data_id"),defalutImgPath=$("#cssAndJsPath").attr("data_id")+"/images",staticPath=$("#staticPath").attr("data_id");$.suggest=function(input,options){function processKey(t){if(testSpeKey(t)&&($sugList.is(":visible")||getCurrentSelect()))switch(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,t.keyCode){case 38:prevSelect(),getSelectCurrentValue();break;case 40:nextSelect(),getSelectCurrentValue();break;case 13:selectCurrent(),submitToSearch()}}function submitToSearch(){var t=$("#keyword").val();""!=t&&"请输入搜索关键字"!=t&&(document.forms[0].action=portalPath+"/search/search.action?kw="+encodeURI(t),document.forms[0].submit())}function getCurrentSelect(){if(!$sugList.is(":visible"))return!1;var t=$sugList.children("ul").children("li."+options.selectClass);return t.length||(t=!1),t}function selectCurrent(){$currentSelect=getCurrentSelect(),$currentSelect&&($input.val($currentSelect.attr("inputText")),void 0!=$currentSelect.attr("hidenId")&&null!=$currentSelect.attr("hidenId")&&""!=$currentSelect.attr("hidenId")&&$("#"+$currentSelect.attr("hidenId")).val($currentSelect.attr("hiddenText")),hiddenTips(),$input.blur())}function getSelectCurrentValue(){$currentSelect=getCurrentSelect(),$input.val($currentSelect.attr("inputText"))}function nextSelect(){$currentSelect=getCurrentSelect(),$currentSelect?$currentSelect.removeClass(options.selectClass).next().addClass(options.selectClass):$sugList.children("ul").children("li:first-child").addClass(options.selectClass)}function prevSelect(){$currentResult=getCurrentSelect(),$currentResult?$currentResult.removeClass(options.selectClass).prev().addClass(options.selectClass):$sugList.children("ul").children("li:last-child").addClass(options.selectClass)}function testSpeKey(t){return/27$|38$|40$/.test(t.keyCode)||/^13$|^9$/.test(t.keyCode)?!0:void 0}function getData(e){testSpeKey(e)||(""!=$input.val()?$.ajax({type:"GET",url:options.url,dataType:"jsonp",data:options.param+"="+$input.val(),jsonp:"callback",jsonpCallback:"displayDiv",success:function(data){displayDiv(eval(data))}}):hiddenTips())}function initTips(){$sugList.find("ul").find("li").each(function(){$(this).mouseover(function(){$(this).addClass(options.selectClass)}),$(this).mouseout(function(){$(this).removeClass(options.selectClass)})})}function cleanClass(){$sugList.find("ul").find("li").each(function(){$(this).removeClass(options.selectClass)})}function showTips(t){$sugList.html(t);var e=$input.offset(),i=$input.outerHeight();$sugList.css("top",e.top+i),$sugList.css("left",e.left-3);var n=options.width;initTips(),$sugList.find("ul").find("li").bind("click",function(){getSelectCurrentValue(),setTimeout(submitToSearch(),100)}),$sugList.width(n),$sugList.slideDown("fast")}function hiddenTips(){$sugList.slideUp("fast")}function displayDiv(json){var div="<ul>";if(void 0==json||json.length<=0);else for(var i=0;i<json.length;i++){div+="<li name='sugItem' ",null!=options.hiddenId&&(div+=" hidenId='"+options.hiddenId+"' hiddenText='"+eval("json[i]."+options.hiddenText)+"' "),div+="inputText='"+eval("json[i]."+options.inputText)+"'>";var lText=eval("json[i]."+options.leftText);void 0!=lText&&null!=lText&&lText.length>options.leftTextLength&&(lText=lText.substring(0,options.leftTextLength)+"..."),div+="<span class='left'>"+(null==lText?"":lText)+"</span>";var rText=eval("json[i]."+options.rightText);void 0!=rText&&null!=rText&&rText.length>options.rightTextLength&&(rText=rText.substring(0,options.rightTextLength)+"..."),div+="<span class='right'>"+(null==rText?"":rText)+"</span>",div+="</span></li>"}div+="</ul>",showTips(div)}var $input=$(input),$sugList=$("#suggest-list-div-"+$input.attr("id"));$input.attr({autocomplete:"off"}),$input.change(function(){}),$input.blur(function(){setTimeout("jQuery('#suggest-list-div-"+$input.attr("id")+"').slideUp('fast')",50)}),$input.bind("keyup",function(t){getData(t)}),$input.bind("keydown",function(t){processKey(t)}),$input.focus(function(){$sugList.slideDown("fast")})},$.fn.suggest=function(t){return t=t||{},t.url=t.url||"",t.param=t.param||this.id,t.width=t.width||424,t.rightTextLength=t.rightTextLength||20,t.leftTextLength=t.leftTextLength||20,t.leftText=t.leftText||"leftText",t.rightText=t.rightText||"rightText",t.inputText=t.inputText||"inputText",t.selectClass=t.selectClass||"suggest-div-hover",void 0==$("#suggest-list-div-"+this.attr("id")).attr("class")&&$(document.body).append("<div id='suggest-list-div-"+this.attr("id")+"' class='suggest-div'></div>"),this.each(function(){new $.suggest(this,t)}),this}}),module.exports=$}),define("common/index",["common/suggest"],function(require,exports,module){var $=require("common/suggest");$(function(){function SetNewShowNum(){NewShowNum++,NewShowNum>$(".news-show-cont li").length-1&&(NewShowNum=0),ChangeNewShow()}function ChangeNewShow(){for(var t=0;t<$(".news-show-cont li").length;t++)t==NewShowNum?$(".news-show-cont li").eq(t).slideDown("slow"):$(".news-show-cont li").eq(t).hide()}function wscrolldo(){var t,e=doc.scrollTop();if(e>=doc.height()-$(window).height()-20)t=titles.length-1;else{for(t=0;t<titles.length&&!(e<titles.eq(t).offset().top-20);t++);t--,t=0>t?0:t}$(".float-list li.current").removeClass("current"),$(".float-list li").eq(t).addClass("current"),e>0?$(".backtop").show():$(".backtop").hide()}var defVal="请输入搜索关键字",mark=0,$shopcart=$("#shopcart"),portalPath=$("#portalPath").attr("data_id"),picPath=$("#picPath").attr("data_id"),detailPath=$("#detailPath").attr("data_id"),defalutImgPath=$("#cssAndJsPath").attr("data_id")+"/images",staticPath=$("#staticPath").attr("data_id");$.getJSON(portalPath+"/loginInfoAction.action?callback=?",function(json){var data=eval(json);mark=data.returnObject.mark,0==mark?$("#loginbar").html("您好，欢迎来到康美之恋健康商城！[<a id='displayLogin2' href='javascript:void(0);'>登录</a>]&nbsp;[<a href='"+portalPath+"/html/regist.html'>注册</a>]"):1==mark?$("#loginbar").html("您好，"+data.returnObject.user.loginAccount+"！[<a href='javascript:void(0);'  id='exitLogin'>退出</a>] <a href='"+portalPath+"/member/queryOrderList.action'  >我的订单</a>  <a href='"+portalPath+"/member/goHome.action' >我的健康</a>"):2==mark&&$("#loginbar").html(data.returnObject.user.loginAccount+"！欢迎来到康美之恋健康商城！[<a id='displayLogin2' href='javascript:void(0);'>登录</a>]&nbsp;[<a href='"+portalPath+"/html/regist.html'>注册</a>]")}),$(".i-nav .sort-list-item").mouseleave(function(){$(this).find(".sortsub").hide()}),$(".i-nav .sort-list-item").mouseover(function(){$(this).addClass("sort-list-hover").siblings().removeClass("sort-list-hover"),$(this).find(".sortsub").show()});var NewShow_t=setInterval(SetNewShowNum,3e3),NewShowNum=0;$(".show-controls .pre").click(function(){clearInterval(NewShow_t),NewShowNum--,0>NewShowNum&&(NewShowNum=$(".news-show-cont li").length-1),ChangeNewShow(),NewShow_t=setInterval(SetNewShowNum,3e3)}),$(".show-controls .next").click(function(){clearInterval(NewShow_t),NewShowNum++,NewShowNum>$(".news-show-cont li").length-1&&(NewShowNum=0),ChangeNewShow(),NewShow_t=setInterval(SetNewShowNum,3e3)});var FloorTopList=new Array;$(".i-floor").each(function(){FloorTopList.push($(this).offset().top)}),$(window).bind("scroll",function(){clearTimeout(scrollFlag),scrollFlag=setTimeout(function(){wscrolldo()},100)}),$("#divTab li").hover(function(){$(this).addClass("current").siblings().removeClass("current"),$("#div_"+this.id).show(),$("#div_"+this.id).siblings(".ui-tab-cnt").hide()}),$(".tabContent li").hover(function(){$(this).addClass("hover").siblings().removeClass(),$("#product_"+this.id).show(),$("#product_"+this.id).siblings().hide()}),$("#navitems li").click(function(){$(this).addClass("curr").siblings().removeClass("curr")});var thisHREF="";thisHREF=window.location.href,$("#navitems li").each(function(){var t=$(this),e=t.attr("data_id");return e==thisHREF?($(this).addClass("curr").siblings().removeClass("curr"),void 0):void 0}),$(".point li").hover(function(){$(this).addClass("current").siblings().removeClass(),$("#pic_"+this.id).show(),$("#pic_"+this.id).siblings().hide()}),$("#triggers li").hover(function(){$(this).addClass("current").siblings().removeClass("current"),$("#c"+this.id).show(),$("#c"+this.id).siblings().hide()});var FloorTopList=new Array;$(".i-floor").each(function(){FloorTopList.push($(this).offset().top)}),$(document).on("click",".backtop",function(){$(window).scrollTop(0),$(".i-feedback ul").find(".current").removeClass("current"),$(".i-feedback ul li").eq(0).addClass("current")});var flagTime=-1;$("#shopcart").mouseenter(function(){clearTimeout(flagTime),flagTime=setTimeout(function(){$.getJSON(portalPath+"/interface/cmsListShopCar.action?callback=?",function(t){$("#nogoods").remove(),$str="<div id='nogoods' class='minicart-list'>";var e=t.code,i=t.returnObject;if(200==e){var n=i.productCount;0==n&&($str+="<div class='nogoods'>",$str+="<b></b>",$str+=1==mark?"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！</p>":"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！<br />您还没有 <a id='showLogin' href='javascript:void(0);'>登录</a></p>",$str+="</div>"),$str+="<div id='settleup' class='settleup'>",$str+="<div class='settleup-cont'>",$str+="<div class='settleup-list'>",$str+="<ul>";for(var s=i.carProductList,r=0;r<s.length;r++){var o="",a=s[r].isOutOfStock;console.log(1==a);var l=s[r].amount-s[r].stockCount;1==a?o="商品已下架":l>0&&(o="商品库存不足"),""!=o&&(o="<p class='stockout-tip'>"+o+"</p>"),$str+="<div class='shopCar'>",$str+="<li class='fn-clear'>",$str+="<div class='settleup-img'>",$str+="<a target='_blank' href='"+detailPath+"/"+s[r].productSkuID+".html'><img width='50' height='50' src='"+picPath+"/"+s[r].imagePath+"' alt='' onerror='this.src=&quot;"+defalutImgPath+"/default__logo_err60_60.jpg&quot;' /></a>",$str+="</div>",$str+="<div class='settleup-name'>",$str+="<a target='_blank' href='"+detailPath+"/"+s[r].productSkuID+".html'>"+s[r].name+"</a>"+o,$str+="</div>",$str+="<div class='settleup-detail'>",$str+="<span class='price'>",$str+="<strong>￥"+s[r].finalPrice.toFixed(2)+"</strong>x"+s[r].amount,$str+="</span><br /> ",$str+="<a href='javascript:void(0);' PID='"+s[r].productSkuID+"'  id='deleteProducts'  class='delete j_deletePro'>删除</a> ",$str+="</div>",$str+="</li>",$str+="</div>"}var c=i.suitProductList;if(null!=c&&""!=c){for(var h=0;h<c.length;h++){var u=c[h].productList,n=c[h].amount,d="",a=u.isOutOfStock,l=u.amount-u.stockCount;1==a?d="商品已下架":l>0&&(d="商品库存不足"),""!=d&&(d="<p class='stockout-tip'>"+d+"</p>"),$str+="<div class='shopCar'>",$str+="<li class='combo-dt'><a class='fn-right delete j_delete' href='javascript:void(0);' PID='"+c[h].id+"'  id='deleteSetMeal'>删除</a><strong class='fn-red'>[套餐]</strong>套餐更超值！</li>"+d;for(var p=0;p<u.length;p++){var f=u[p];$str+="<li>",$str+="<div class='settleup-img'>",$str+="<a href='"+detailPath+"/"+f.productSkuID+".html'><img width='50' height='50' alt='' src='"+picPath+"/"+f.imagePath+"' onerror='this.src=&quot;"+defalutImgPath+"/default__logo_err60_60.jpg&quot;' /></a>",$str+="</div>",$str+="<div class='settleup-name'>",$str+="<a href='"+detailPath+"/"+f.productSkuID+".html'>"+f.name+"</a>",$str+="</div>",$str+="<div class='settleup-detail'>",$str+="<span class='price'>",$str+="<strong>￥"+f.costPrice.toFixed(2)+"</strong>x"+n,$str+="</span>",$str+="</div>",$str+="</li>"}$str+="</div>"}$str+="</ul>",$str+="</div>"}0!=n&&($str+="<div id='checkout'>",$str+="<div class='checkout'>",$str+="共<b id='productCount'>"+i.productCount+"</b>件商品&#12288;共计<strong id='moneyCount'>￥"+i.moneyCount.toFixed(2)+"</strong>",$str+="</div>",$str+="<div class='fn-clear'><a href='javascript:void(0);'  id='gotoSettlements' class='btn btn-minicheckout fn-right'></a></div>",$str+="</div>",$str+="</div>",$str+="</div>"),$str+="</div>",$("#shopcart").append($str),$(".number").html(i.productCount),$("#gotoSettlements").click(function(t){t.preventDefault(),0!=$(".number").html()&&(location.href=portalPath+"/cart/listShopCar.action")})}})},200)}).mouseleave(function(){clearTimeout(flagTime),$("#nogoods").hide()}),$shopcart.on("click",".j_deletePro",function(t){var e=$(this);t.preventDefault(),$.getJSON(portalPath+"/interface/cmsDeleteProductFromShopCar.action?callback=?&productSkuId="+$(this).attr("PID"),function(t){200==t.code?(e.closest("div.shopCar").hide(),$(".number").html(t.returnObject.productCount),$("#productCount").html(t.returnObject.productCount),$("#moneyCount").html("￥"+t.returnObject.moneyCount.toFixed(2)),$str="",0==$(".number").html()&&($("#checkout").hide(),0==t.returnObject.productCount&&($str+="<div class='nogoods'>",$str+="<b></b>",$str+=1==mark?"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！</p>":"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！<br />您还没有 <a id='showLogin' href='javascript:void(0);'>登录</a></p>",$str+="</div>"),$("#nogoods").append($str),$("#nogoods").show())):alert("删除失败！")})}),$(document).on("click","#showLogin",function(t){t.preventDefault(),$("#displayLogin2").trigger("click")}),$shopcart.on("click",".j_delete",function(t){t.preventDefault();var e=$(this);$.getJSON(portalPath+"/interface/cmsDeleteProductFromShopCar.action?callback=?&suitId="+$(this).attr("PID"),function(t){200==t.code?(e.closest("div.shopCar").hide(),$(".number").html(t.returnObject.productCount),$("#productCount").html(t.returnObject.productCount),$("#moneyCount").html("￥"+t.returnObject.moneyCount.toFixed(2)),0==$(".number").html()&&($("#checkout").hide(),$str="",0==t.returnObject.productCount&&($str+="<div class='nogoods'>",$str+="<b></b>",$str+=1==mark?"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！</p>":"<p class='fn-block'>采购单中还没有商品，赶紧选购吧！<br />您还没有 <a id='showLogin' href='javascript:void(0);'>登录</a></p>",$str+="</div>"),$("#nogoods").append($str),$("#nogoods").show())):alert("删除失败！")})}),$("#sortGoodsList").mouseenter(function(){$(this).addClass("sort-hover"),$("#otherGoodsList").show()}).mouseleave(function(){$("#otherGoodsList").hide(),$(this).removeClass("sort-hover")}),$(".onecls-hot-list li").mousemove(function(){$(this).find(".profile").show(),$(this).siblings().find(".profile").hide(),$(this).addClass("current").siblings().removeClass("current")}),$("#searchBtn").click(function(){var t=$("#keyword").val();if(t!=defVal){var e=portalPath+"/search/search.action?kw="+t;$("#searchForm").attr("action",e),$("#searchForm").submit()}});var query=$("#query").val(),$keyword=$("#keyword");null!=query&&""!=query&&$keyword.val(query),$keyword.bind({focus:function(){var t=$(this);t.val()==defVal&&t.val("")},blur:function(){var t=$(this);""==t.val()&&t.val(defVal)}}),$("#keyword").suggest({url:portalPath+"/search/suggest.action",param:"q",leftText:"name",inputText:"name"}),$("#gotoSettlement").click(function(t){t.preventDefault(),0!=$(".number").html()&&(location.href=portalPath+"/cart/listShopCar.action")}),$("#services").click(function(t){t.preventDefault(),openChat(this)}),$("#addCookie").unbind("click").bind("click",function(t){t.preventDefault();try{window.external.addFavorite(staticPath+"/index.html","康美之恋")}catch(t){try{window.sidebar.addPanel("康美之恋",staticPath+"/index.html","")}catch(t){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}),$.getJSON(portalPath+"/interface/cmsListShopCar.action?callback=?",function(t){var e=t.returnObject;$(".number").html(e.productCount)});var titles=$(".j_h2"),doc=$(document);if(!(titles.length<=0)){var scrollFlag=-1;wscrolldo()}})}),define("util/md5/md5",[],function(t,e,i){function n(t){return p(s(d(t),t.length*g))}function s(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,s=-1732584194,r=271733878,u=0;u<t.length;u+=16){var d=i,p=n,f=s,g=r;i=o(i,n,s,r,t[u+0],7,-680876936),r=o(r,i,n,s,t[u+1],12,-389564586),s=o(s,r,i,n,t[u+2],17,606105819),n=o(n,s,r,i,t[u+3],22,-1044525330),i=o(i,n,s,r,t[u+4],7,-176418897),r=o(r,i,n,s,t[u+5],12,1200080426),s=o(s,r,i,n,t[u+6],17,-1473231341),n=o(n,s,r,i,t[u+7],22,-45705983),i=o(i,n,s,r,t[u+8],7,1770035416),r=o(r,i,n,s,t[u+9],12,-1958414417),s=o(s,r,i,n,t[u+10],17,-42063),n=o(n,s,r,i,t[u+11],22,-1990404162),i=o(i,n,s,r,t[u+12],7,1804603682),r=o(r,i,n,s,t[u+13],12,-40341101),s=o(s,r,i,n,t[u+14],17,-1502002290),n=o(n,s,r,i,t[u+15],22,1236535329),i=a(i,n,s,r,t[u+1],5,-165796510),r=a(r,i,n,s,t[u+6],9,-1069501632),s=a(s,r,i,n,t[u+11],14,643717713),n=a(n,s,r,i,t[u+0],20,-373897302),i=a(i,n,s,r,t[u+5],5,-701558691),r=a(r,i,n,s,t[u+10],9,38016083),s=a(s,r,i,n,t[u+15],14,-660478335),n=a(n,s,r,i,t[u+4],20,-405537848),i=a(i,n,s,r,t[u+9],5,568446438),r=a(r,i,n,s,t[u+14],9,-1019803690),s=a(s,r,i,n,t[u+3],14,-187363961),n=a(n,s,r,i,t[u+8],20,1163531501),i=a(i,n,s,r,t[u+13],5,-1444681467),r=a(r,i,n,s,t[u+2],9,-51403784),s=a(s,r,i,n,t[u+7],14,1735328473),n=a(n,s,r,i,t[u+12],20,-1926607734),i=l(i,n,s,r,t[u+5],4,-378558),r=l(r,i,n,s,t[u+8],11,-2022574463),s=l(s,r,i,n,t[u+11],16,1839030562),n=l(n,s,r,i,t[u+14],23,-35309556),i=l(i,n,s,r,t[u+1],4,-1530992060),r=l(r,i,n,s,t[u+4],11,1272893353),s=l(s,r,i,n,t[u+7],16,-155497632),n=l(n,s,r,i,t[u+10],23,-1094730640),i=l(i,n,s,r,t[u+13],4,681279174),r=l(r,i,n,s,t[u+0],11,-358537222),s=l(s,r,i,n,t[u+3],16,-722521979),n=l(n,s,r,i,t[u+6],23,76029189),i=l(i,n,s,r,t[u+9],4,-640364487),r=l(r,i,n,s,t[u+12],11,-421815835),s=l(s,r,i,n,t[u+15],16,530742520),n=l(n,s,r,i,t[u+2],23,-995338651),i=c(i,n,s,r,t[u+0],6,-198630844),r=c(r,i,n,s,t[u+7],10,1126891415),s=c(s,r,i,n,t[u+14],15,-1416354905),n=c(n,s,r,i,t[u+5],21,-57434055),i=c(i,n,s,r,t[u+12],6,1700485571),r=c(r,i,n,s,t[u+3],10,-1894986606),s=c(s,r,i,n,t[u+10],15,-1051523),n=c(n,s,r,i,t[u+1],21,-2054922799),i=c(i,n,s,r,t[u+8],6,1873313359),r=c(r,i,n,s,t[u+15],10,-30611744),s=c(s,r,i,n,t[u+6],15,-1560198380),n=c(n,s,r,i,t[u+13],21,1309151649),i=c(i,n,s,r,t[u+4],6,-145523070),r=c(r,i,n,s,t[u+11],10,-1120210379),s=c(s,r,i,n,t[u+2],15,718787259),n=c(n,s,r,i,t[u+9],21,-343485551),i=h(i,d),n=h(n,p),s=h(s,f),r=h(r,g)}return Array(i,n,s,r)}function r(t,e,i,n,s,r){return h(u(h(h(e,t),h(n,r)),s),i)}function o(t,e,i,n,s,o,a){return r(e&i|~e&n,t,e,s,o,a)}function a(t,e,i,n,s,o,a){return r(e&n|i&~n,t,e,s,o,a)}function l(t,e,i,n,s,o,a){return r(e^i^n,t,e,s,o,a)}function c(t,e,i,n,s,o,a){return r(i^(e|~n),t,e,s,o,a)}function h(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function u(t,e){return t<<e|t>>>32-e}function d(t){for(var e=Array(),i=(1<<g)-1,n=0;n<t.length*g;n+=g)e[n>>5]|=(t.charCodeAt(n/g)&i)<<n%32;return e}function p(t){for(var e=f?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15);return i}var f=0,g=8;i.exports=n}),define("common/arale/position/position",["base/jquery/1.8.3/jquery"],function(t,e){function i(t){t=a(t)||{},t.nodeType&&(t={element:t});var e=a(t.element)||h;if(1!==e.nodeType)throw new Error("posObject.element is invalid.");var i={element:e,x:t.x||0,y:t.y||0},n=e===h||"VIEWPORT"===e._id;return i.offset=function(){return d?{left:0,top:0}:n?{left:u(document).scrollLeft(),top:u(document).scrollTop()}:l(u(e)[0])},i.size=function(){var t=n?u(window):u(e);return{width:t.outerWidth(),height:t.outerHeight()}},i}function n(t){t.x=s(t.x,t,"width"),t.y=s(t.y,t,"height")}function s(t,e,i){if(t+="",t=t.replace(/px/gi,""),/\D/.test(t)&&(t=t.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==t.indexOf("%")&&(t=t.replace(/(\d+(?:\.\d+)?)%/gi,function(t,n){return e.size()[i]*(n/100)})),/[+\-*\/]/.test(t))try{t=new Function("return "+t)()}catch(n){throw new Error("Invalid position value: "+t)}return o(t)}function r(t){var e=t.offsetParent();e[0]===document.documentElement&&(e=u(document.body)),f&&e.css("zoom",1);var i;return i=e[0]===document.body&&"static"===e.css("position")?{top:0,left:0}:l(e[0]),i.top+=o(e.css("border-top-width")),i.left+=o(e.css("border-left-width")),i}function o(t){return parseFloat(t,10)||0}function a(t){return u(t)[0]}function l(t){var e=t.getBoundingClientRect(),i=document.documentElement;return{left:e.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||document.body.clientTop||0)}}var c=e,h={_id:"VIEWPORT",nodeType:1},u=t("base/jquery/1.8.3/jquery"),d=!1,p=(window.navigator.userAgent||"").toLowerCase(),f=-1!==p.indexOf("msie 6");c.pin=function(t,e){t=i(t),e=i(e);var s=u(t.element);"fixed"!==s.css("position")||f?(s.css("position","absolute"),d=!1):d=!0,n(t),n(e);var o=r(s),a=e.offset(),l=a.top+e.y-t.y-o.top,c=a.left+e.x-t.x-o.left;s.css({left:c,top:l})},c.center=function(t,e){c.pin({element:t,x:"50%",y:"50%"},{element:e,x:"50%",y:"50%"})},c.VIEWPORT=h}),define("common/arale/iframe-shim/iframe-shim",["base/jquery/1.8.3/jquery","common/arale/position/position"],function(t,e,i){function n(t){this.target=o(t).eq(0)}function s(){}function r(t){var e={display:"none",border:"none",opacity:0,position:"absolute"},i=t.css("zIndex");return i&&i>0&&(e.zIndex=i-1),o("<iframe>",{src:"javascript:''",frameborder:0,css:e}).insertBefore(t)}var o=t("base/jquery/1.8.3/jquery"),a=t("common/arale/position/position"),l=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6");n.prototype.sync=function(){var t=this.target,e=this.iframe;if(!t.length)return this;var i=t.outerHeight(),n=t.outerWidth();return i&&n&&!t.is(":hidden")?(e||(e=this.iframe=r(t)),e.css({height:i,width:n}),a.pin(e[0],t[0]),e.show()):e&&e.hide(),this},n.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},l?i.exports=n:(s.prototype.sync=function(){return this},s.prototype.destroy=s,i.exports=s)}),define("base/class/class",[],function(t,e,i){function n(t){return this instanceof n||!u(t)?void 0:r(t)}function s(t){var e,i;for(e in t)i=t[e],n.Mutators.hasOwnProperty(e)?n.Mutators[e].call(this,i):this.prototype[e]=i}function r(t){return t.extend=n.extend,t.implement=s,t}function o(){}function a(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&-1===d(i,n))continue;"prototype"!==n&&(t[n]=e[n])}}i.exports=n,n.create=function(t,e){function i(){t.apply(this,arguments),this.constructor===i&&this.initialize&&this.initialize.apply(this,arguments)}return u(t)||(e=t,t=null),e||(e={}),t||(t=e.Extends||n),e.Extends=t,t!==n&&a(i,t,t.StaticsWhiteList),s.call(i,e),r(i)},n.extend=function(t){return t||(t={}),t.Extends=this,n.create(t)},n.Mutators={Extends:function(t){var e=this.prototype,i=l(t.prototype);a(i,e),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){h(t)||(t=[t]);for(var e,i=this.prototype;e=t.shift();)a(i,e.prototype||e)},Statics:function(t){a(this,t)}};var l=Object.__proto__?function(t){return{__proto__:t}}:function(t){return o.prototype=t,new o},c=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===c.call(t)},u=function(t){return"[object Function]"===c.call(t)},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}}),define("base/events/events",[],function(){function t(){}function e(t,e,i){if(t){var n=0,s=t.length,r=e[0],o=e[1],a=e[2],l=!0;switch(e.length){case 0:for(;s>n;n+=2)l=t[n].call(t[n+1]||i)!==!1&&l;break;case 1:for(;s>n;n+=2)l=t[n].call(t[n+1]||i,r)!==!1&&l;break;case 2:for(;s>n;n+=2)l=t[n].call(t[n+1]||i,r,o)!==!1&&l;break;case 3:for(;s>n;n+=2)l=t[n].call(t[n+1]||i,r,o,a)!==!1&&l;break;default:for(;s>n;n+=2)l=t[n].apply(t[n+1]||i,e)!==!1&&l}}return l}function i(t){return"[object Function]"===Object.prototype.toString.call(t)}var n=/\s+/;t.prototype.on=function(t,e,i){var s,r,o;if(!e)return this;for(s=this.__events||(this.__events={}),t=t.split(n);r=t.shift();)o=s[r]||(s[r]=[]),o.push(e,i);return this},t.prototype.once=function(t,e,i){var n=this,s=function(){n.off(t,s),e.apply(this,arguments)};this.on(t,s,i)},t.prototype.off=function(t,e,i){var r,o,a,l;if(!(r=this.__events))return this;if(!(t||e||i))return delete this.__events,this;for(t=t?t.split(n):s(r);o=t.shift();)if(a=r[o])if(e||i)for(l=a.length-2;l>=0;l-=2)e&&a[l]!==e||i&&a[l+1]!==i||a.splice(l,2);else delete r[o];return this},t.prototype.trigger=function(t){var i,s,r,o,a,l,c=[],h=!0;if(!(i=this.__events))return this;for(t=t.split(n),a=1,l=arguments.length;l>a;a++)c[a-1]=arguments[a];for(;s=t.shift();)(r=i.all)&&(r=r.slice()),(o=i[s])&&(o=o.slice()),h=e(o,c,this)&&h,h=e(r,[s].concat(c),this)&&h;return h},t.prototype.emit=t.prototype.trigger,t.mixTo=function(e){e=i(e)?e.prototype:e;var n=t.prototype;for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])
};var s=Object.keys;return s||(s=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}),t}),define("base/base/aspect",[],function(t,e){function i(t,e,i,o){for(var a,l,c=e.split(r);a=c.shift();)l=n(this,a),l.__isAspected||s.call(this,a),this.on(t+":"+a,i,o);return this}function n(t,e){var i=t[e];if(!i)throw new Error("Invalid method name: "+e);return i}function s(t){var e=this[t];this[t]=function(){var i=Array.prototype.slice.call(arguments),n=["before:"+t].concat(i);if(this.trigger.apply(this,n)!==!1){var s=e.apply(this,arguments),r=["after:"+t,s].concat(i);return this.trigger.apply(this,r),s}},this[t].__isAspected=!0}e.before=function(t,e,n){return i.call(this,"before",t,e,n)},e.after=function(t,e,n){return i.call(this,"after",t,e,n)};var r=/\s+/}),define("base/base/attribute",[],function(t,e){function i(t){return"[object String]"===k.call(t)}function n(t){return"[object Function]"===k.call(t)}function s(t){return null!=t&&t==t.window}function r(t){if(!t||"[object Object]"!==k.call(t)||t.nodeType||s(t))return!1;try{if(t.constructor&&!$.call(t,"constructor")&&!$.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;if(w)for(i in t)return $.call(t,i);for(i in t);return void 0===i||$.call(t,i)}function o(t){if(!t||"[object Object]"!==k.call(t)||t.nodeType||s(t)||!t.hasOwnProperty)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=l(e[i],t[i]));return t}function l(t,e){return x(t)?t=t.slice():r(t)&&(r(e)||(e={}),t=a(e,t)),t}function c(t,e,i){for(var n=[],s=e.constructor.prototype;s;)s.hasOwnProperty("attrs")||(s.attrs={}),u(i,s.attrs,s),o(s.attrs)||n.unshift(s.attrs),s=s.constructor.superclass;for(var r=0,a=n.length;a>r;r++)m(t,g(n[r]))}function h(t,e){m(t,g(e,!0),!0)}function u(t,e,i,n){for(var s=0,r=t.length;r>s;s++){var o=t[s];i.hasOwnProperty(o)&&(e[o]=n?e.get(o):i[o])}}function d(t,e){for(var i in e)if(e.hasOwnProperty(i)){var s,r=e[i].value;n(r)&&(s=i.match(S))&&(t[s[1]](p(s[2]),r),delete e[i])}}function p(t){var e=t.match(_),i=e[1]?"change:":"";return i+=e[2].toLowerCase()+e[3]}function f(t,e,i){var n={silent:!0};t.__initializingAttrs=!0;for(var s in i)i.hasOwnProperty(s)&&e[s].setter&&t.set(s,i[s],n);delete t.__initializingAttrs}function g(t,e){var i={};for(var n in t){var s=t[n];i[n]=!e&&r(s)&&v(s,P)?s:{value:s}}return i}function m(t,e,i){var n,s,r;for(n in e)if(e.hasOwnProperty(n)){if(s=e[n],r=t[n],r||(r=t[n]={}),void 0!==s.value&&(r.value=l(s.value,r.value)),i)continue;for(var o in E){var a=E[o];void 0!==s[a]&&(r[a]=s[a])}}return t}function v(t,e){for(var i=0,n=e.length;n>i;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}function b(t){return null==t||(i(t)||x(t))&&0===t.length||o(t)}function y(t,e){if(t===e)return!0;if(b(t)&&b(e))return!0;var i=k.call(t);if(i!=k.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase;case"[object Array]":var n=t.toString(),s=e.toString();return-1===n.indexOf("[object")&&-1===s.indexOf("[object")&&n===s}if("object"!=typeof t||"object"!=typeof e)return!1;if(r(t)&&r(e)){if(!y(j(t),j(e)))return!1;for(var o in t)if(t[o]!==e[o])return!1;return!0}return!1}e.initAttrs=function(t){var e=this.attrs={},i=this.propsInAttrs||[];c(e,this,i),t&&h(e,t),f(this,e,t),d(this,e),u(i,this,e,!0)},e.get=function(t){var e=this.attrs[t]||{},i=e.value;return e.getter?e.getter.call(this,i,t):i},e.set=function(t,e,n){var s={};i(t)?s[t]=e:(s=t,n=e),n||(n={});var o=n.silent,l=n.override,c=this.attrs,h=this.__changedAttrs||(this.__changedAttrs={});for(t in s)if(s.hasOwnProperty(t)){var u=c[t]||(c[t]={});if(e=s[t],u.readOnly)throw new Error("This attribute is readOnly: "+t);u.setter&&(e=u.setter.call(this,e,t));var d=this.get(t);!l&&r(d)&&r(e)&&(e=a(a({},d),e)),c[t].value=e,this.__initializingAttrs||y(d,e)||(o?h[t]=[e,d]:this.trigger("change:"+t,e,d,t))}return this},e.change=function(){var t=this.__changedAttrs;if(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];this.trigger("change:"+e,i[0],i[1],e)}delete this.__changedAttrs}return this},e._isPlainObject=r;var w,k=Object.prototype.toString,$=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var i in new t)e.push(i);w="x"!==e[0]}();var x=Array.isArray||function(t){return"[object Array]"===k.call(t)},j=Object.keys;j||(j=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e});var S=/^(on|before|after)([A-Z].*)$/,_=/^(Change)?([A-Z])(.*)/,P=["value","getter","setter","readOnly"],E=["setter","getter","readOnly"]}),define("base/base/base",["base/class/class","base/events/events","./aspect","./attribute"],function(t,e,i){function n(t,e){for(var i in e)if(e.hasOwnProperty(i)){var n="_onChange"+s(i);t[n]&&t.on("change:"+i,t[n])}}function s(t){return t.charAt(0).toUpperCase()+t.substring(1)}var r=t("base/class/class"),o=t("base/events/events"),a=t("./aspect"),l=t("./attribute");i.exports=r.create({Implements:[o,a,l],initialize:function(t){this.initAttrs(t),n(this,this.attrs)},destroy:function(){this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}}})}),define("base/widget/daparser",["base/jquery/1.8.3/jquery"],function(t,e){function i(t){return t.toLowerCase().replace(o,function(t,e){return(e+"").toUpperCase()})}function n(t){for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];if("string"!=typeof i)continue;a.test(i)?(i=i.replace(/'/g,'"'),t[e]=n(l(i))):t[e]=s(i)}return t}function s(t){if("false"===t.toLowerCase())t=!1;else if("true"===t.toLowerCase())t=!0;else if(/\d/.test(t)&&/[^a-z]/i.test(t)){var e=parseFloat(t);e+""===t&&(t=e)}return t}var r=t("base/jquery/1.8.3/jquery");e.parseElement=function(t,e){t=r(t)[0];var s={};if(t.dataset)s=r.extend({},t.dataset);else for(var o=t.attributes,a=0,l=o.length;l>a;a++){var c=o[a],h=c.name;0===h.indexOf("data-")&&(h=i(h.substring(5)),s[h]=c.value)}return e===!0?s:n(s)};var o=/-([a-z])/g,a=/^\s*[\[{].*[\]}]\s*$/,l=this.JSON?JSON.parse:r.parseJSON}),define("base/widget/auto-render",["base/jquery/1.8.3/jquery"],function(t,e){var i=t("base/jquery/1.8.3/jquery"),n="data-widget-auto-rendered";e.autoRender=function(t){return new this(t).render()},e.autoRenderAll=function(t,s){"function"==typeof t&&(s=t,t=null),t=i(t||document.body);var r=[],o=[];t.find("[data-widget]").each(function(t,i){e.isDataApiOff(i)||(r.push(i.getAttribute("data-widget").toLowerCase()),o.push(i))}),r.length&&seajs.use(r,function(){for(var t=0;t<arguments.length;t++){var e=arguments[t],r=i(o[t]);if(!r.attr(n)){var a={initElement:r,renderType:"auto"},l=r.attr("data-widget-role");a[l?l:"element"]=r,e.autoRender&&e.autoRender(a),r.attr(n,"true")}}s&&s()})};var s="off"===i(document.body).attr("data-api");e.isDataApiOff=function(t){var e=i(t).attr("data-api");return"off"===e||"on"!==e&&s}}),define("base/widget/widget",["base/base/base","base/jquery/1.8.3/jquery","./daparser","./auto-render"],function(t,e,i){function n(){return"widget-"+$++}function s(t){return"[object String]"===k.call(t)}function r(t){return"[object Function]"===k.call(t)}function o(t){return x(document.documentElement,t)}function a(t){return t.charAt(0).toUpperCase()+t.substring(1)}function l(t){return r(t.events)&&(t.events=t.events()),t.events}function c(t,e){var i=t.match(j),n=i[1]+m+e.cid,s=i[2]||void 0;return s&&s.indexOf("{{")>-1&&(s=h(s,e)),{type:n,selector:s}}function h(t,e){return t.replace(S,function(t,i){for(var n,r=i.split("."),o=e;n=r.shift();)o=o===e.attrs?e.get(n):o[n];return s(o)?o:_})}function u(t){return null==t||void 0===t}var d=t("base/base/base"),p=t("base/jquery/1.8.3/jquery"),f=t("./daparser"),g=t("./auto-render"),m=".delegate-events-",v="_onRender",b="data-widget-cid",y={},w=d.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:document.body},initialize:function(t){this.cid=n();var e=this._parseDataAttrsConfig(t);w.superclass.initialize.call(this,t?p.extend(e,t):e),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(t&&t.element)},_parseDataAttrsConfig:function(t){var e,i;return t&&(e=t.initElement?p(t.initElement):p(t.element)),e&&e[0]&&!g.isDataApiOff(e)&&(i=f.parseElement(e)),i},parseElement:function(){var t=this.element;if(t?this.element=p(t):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){this.element=p(this.get("template"))},initProps:function(){},delegateEvents:function(t,e,i){if(0===arguments.length?(e=l(this),t=this.element):1===arguments.length?(e=t,t=this.element):2===arguments.length?(i=e,e=t,t=this.element):(t||(t=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(p(t))),s(e)&&r(i)){var n={};n[e]=i,e=n}for(var o in e)if(e.hasOwnProperty(o)){var a=c(o,this),h=a.type,u=a.selector;!function(e,i){var n=function(t){r(e)?e.call(i,t):i[e](t)};u?p(t).on(h,u,n):p(t).on(h,n)}(e[o],this)}return this},undelegateEvents:function(t,e){if(e||(e=t,t=null),0===arguments.length){var i=m+this.cid;if(this.element&&this.element.off(i),this._delegateElements)for(var n in this._delegateElements)this._delegateElements.hasOwnProperty(n)&&this._delegateElements[n].off(i)}else{var s=c(e,this);t?p(t).off(s.type,s.selector):this.element&&this.element.off(s.type,s.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var t=this.get("parentNode");if(t&&!o(this.element[0])){var e=this.constructor.outerBoxClass;if(e){var i=this._outerBox=p("<div></div>").addClass(e);i.append(this.element).appendTo(t)}else this.element.appendTo(t)}return this},_renderAndBindAttrs:function(){var t=this,e=t.attrs;for(var i in e)if(e.hasOwnProperty(i)){var n=v+a(i);if(this[n]){var s=this.get(i);u(s)||this[n](s,void 0,i),function(e){t.on("change:"+i,function(i,n,s){t[e](i,n,s)})}(n)}}},_onRenderId:function(t){this.element.attr("id",t)},_onRenderClassName:function(t){this.element.addClass(t)},_onRenderStyle:function(t){this.element.css(t)},_stamp:function(){var t=this.cid;(this.initElement||this.element).attr(b,t),y[t]=this},$:function(t){return this.element.find(t)},destroy:function(){this.undelegateEvents(),delete y[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,w.superclass.destroy.call(this)}});p(window).unload(function(){for(var t in y)y[t].destroy()}),w.query=function(t){var e,i=p(t).eq(0);return i&&(e=i.attr(b)),y[e]},w.autoRender=g.autoRender,w.autoRenderAll=g.autoRenderAll,w.StaticsWhiteList=["autoRender"],i.exports=w;var k=Object.prototype.toString,$=0,x=p.contains||function(t,e){return!!(16&t.compareDocumentPosition(e))},j=/^(\S+)\s*(.*)$/,S=/{{([^}]+)}}/g,_="INVALID_SELECTOR"}),define("common/arale/overlay/overlay",["base/jquery/1.8.3/jquery","common/arale/position/position","common/arale/iframe-shim/iframe-shim","base/widget/widget"],function(t,e,i){function n(t){return o.contains(document.documentElement,t)}function s(t){o(h.blurOverlays).each(function(e,i){if(i&&i.get("visible")){for(var n=0;n<i._relativeElements.length;n++){var s=o(i._relativeElements[n])[0];if(s===t.target||o.contains(s,t.target))return}i.hide()}})}function r(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),e}var o=t("base/jquery/1.8.3/jquery"),a=t("common/arale/position/position"),l=t("common/arale/iframe-shim/iframe-shim"),c=t("base/widget/widget"),h=c.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,align:{selfXY:[0,0],baseElement:a.VIEWPORT,baseXY:[0,0]},parentNode:document.body},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){var t=this;this._setupShim(),this._setupResize(),this.after("render",function(){var t=this.element.css("position");("static"===t||"relative"===t)&&this.element.css({position:"absolute",left:"-9999px",top:"-9999px"})}),this.after("show",function(){t._setPosition()})},destroy:function(){return r(this,h.allOverlays),r(this,h.blurOverlays),h.superclass.destroy.call(this)},_setPosition:function(t){if(n(this.element[0])&&(t||(t=this.get("align")),t)){var e="none"===this.element.css("display");return e&&this.element.css({visibility:"hidden",display:"block"}),a.pin({element:this.element,x:t.selfXY[0],y:t.selfXY[1]},{element:t.baseElement,x:t.baseXY[0],y:t.baseXY[1]}),e&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var t=new l(this.element);this.after("hide _setPosition",t.sync,t);var e=["width","height"];for(var i in e)e.hasOwnProperty(i)&&this.on("change:"+i,t.sync,t);this.before("destroy",t.destroy,t)},_setupResize:function(){h.allOverlays.push(this)},_blurHide:function(t){t=o.makeArray(t),t.push(this.element),this._relativeElements=t,h.blurOverlays.push(this)},_onRenderWidth:function(t){this.element.css("width",t)},_onRenderHeight:function(t){this.element.css("height",t)},_onRenderZIndex:function(t){this.element.css("zIndex",t)},_onRenderAlign:function(t){this._setPosition(t)},_onRenderVisible:function(t){this.element[t?"show":"hide"]()}});h.blurOverlays=[],o(document).on("click",function(t){s(t)});var u,d=o(window).width(),p=o(window).height();h.allOverlays=[],o(window).resize(function(){u&&clearTimeout(u),u=setTimeout(function(){var t=o(window).width(),e=o(window).height();(d!==t||p!==e)&&o(h.allOverlays).each(function(t,e){e&&e.get("visible")&&e._setPosition()}),d=t,p=e},80)}),i.exports=h}),define("common/arale/overlay/mask",["base/jquery/1.8.3/jquery","./overlay"],function(t,e,i){var n=t("base/jquery/1.8.3/jquery"),s=t("./overlay"),r=(window.navigator.userAgent||"").toLowerCase(),o=-1!==r.indexOf("msie 6"),a=n(document.body),l=n(document),c=s.extend({attrs:{width:o?l.outerWidth(!0):"100%",height:o?l.outerHeight(!0):"100%",className:"ui-mask",opacity:.2,backgroundColor:"#000",style:{position:o?"absolute":"fixed",top:0,left:0},align:{baseElement:o?a:void 0}},show:function(){return o&&(this.set("width",l.outerWidth(!0)),this.set("height",l.outerHeight(!0))),c.superclass.show.call(this)},_onRenderBackgroundColor:function(t){this.element.css("backgroundColor",t)},_onRenderOpacity:function(t){this.element.css("opacity",t)}});i.exports=new c}),define("base/gallery/handlebars/handlebars",[],function(t,e,i){var n={};!function(t,e){t.VERSION="1.0.0-rc.4",t.COMPILER_REVISION=3,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:">= 1.0.0-rc.4"},t.helpers={},t.partials={};var i=Object.prototype.toString,n="[object Function]",s="[object Object]";t.registerHelper=function(e,n,r){if(i.call(e)===s){if(r||n)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else r&&(n.not=r),this.helpers[e]=n},t.registerPartial=function(e,n){i.call(e)===s?t.Utils.extend(this.partials,e):this.partials[e]=n},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Could not find property '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,s){var r=s.inverse||function(){},o=s.fn,a=i.call(e);return a===n&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?r(this):"[object Array]"===a?e.length>0?t.helpers.each(e,s):r(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var i=new t.K;return t.K.prototype=null,i},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,i){if(t.logger.level<=e){var n=t.logger.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,i)}}},t.log=function(e,i){t.logger.log(e,i)},t.registerHelper("each",function(e,i){var n,s=i.fn,r=i.inverse,o=0,a="";if(i.data&&(n=t.createFrame(i.data)),e&&"object"==typeof e)if(e instanceof Array)for(var l=e.length;l>o;o++)n&&(n.index=o),a+=s(e[o],{data:n});else for(var c in e)e.hasOwnProperty(c)&&(n&&(n.key=c),a+=s(e[c],{data:n}),o++);return 0===o&&(a=r(this)),a}),t.registerHelper("if",function(e,s){var r=i.call(e);return r===n&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?s.inverse(this):s.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn})}),t.registerHelper("with",function(e,i){return t.Utils.isEmpty(e)?void 0:i.fn(e)}),t.registerHelper("log",function(e,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;t.log(n,e)});var r=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(t,e,i,n,s,r){var o=r.length-1;switch(s){case 1:return r[o-1];case 2:this.$=new n.ProgramNode([],r[o]);break;case 3:this.$=new n.ProgramNode(r[o-2],r[o]);break;case 4:this.$=new n.ProgramNode(r[o-1],[]);break;case 5:this.$=new n.ProgramNode(r[o]);break;case 6:this.$=new n.ProgramNode([],[]);break;case 7:this.$=new n.ProgramNode([]);break;case 8:this.$=[r[o]];break;case 9:r[o-1].push(r[o]),this.$=r[o-1];break;case 10:this.$=new n.BlockNode(r[o-2],r[o-1].inverse,r[o-1],r[o]);break;case 11:this.$=new n.BlockNode(r[o-2],r[o-1],r[o-1].inverse,r[o]);break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=new n.ContentNode(r[o]);break;case 15:this.$=new n.CommentNode(r[o]);break;case 16:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1]);break;case 17:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1]);break;case 18:this.$=r[o-1];break;case 19:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1]);break;case 20:this.$=new n.MustacheNode(r[o-1][0],r[o-1][1],!0);break;case 21:this.$=new n.PartialNode(r[o-1]);break;case 22:this.$=new n.PartialNode(r[o-2],r[o-1]);break;case 23:break;case 24:this.$=[[r[o-2]].concat(r[o-1]),r[o]];break;case 25:this.$=[[r[o-1]].concat(r[o]),null];break;case 26:this.$=[[r[o-1]],r[o]];break;case 27:this.$=[[r[o]],null];break;case 28:this.$=[[new n.DataNode(r[o])],null];break;case 29:r[o-1].push(r[o]),this.$=r[o-1];break;case 30:this.$=[r[o]];break;case 31:this.$=r[o];break;case 32:this.$=new n.StringNode(r[o]);break;case 33:this.$=new n.IntegerNode(r[o]);break;case 34:this.$=new n.BooleanNode(r[o]);break;case 35:this.$=new n.DataNode(r[o]);break;case 36:this.$=new n.HashNode(r[o]);break;case 37:r[o-1].push(r[o]),this.$=r[o-1];break;case 38:this.$=[r[o]];break;case 39:this.$=[r[o-2],r[o]];break;case 40:this.$=[r[o-2],new n.StringNode(r[o])];break;case 41:this.$=[r[o-2],new n.IntegerNode(r[o])];break;case 42:this.$=[r[o-2],new n.BooleanNode(r[o])];break;case 43:this.$=[r[o-2],new n.DataNode(r[o])];break;case 44:this.$=new n.PartialNameNode(r[o]);break;case 45:this.$=new n.IdNode(r[o]);break;case 46:r[o-2].push(r[o]),this.$=r[o-2];break;case 47:this.$=[r[o]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=i.lexer.lex()||1,"number"!=typeof t&&(t=i.symbols_[t]||t),t}var i=this,n=[0],s=[null],r=[],o=this.table,a="",l=0,c=0,h=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,b,y,w,k,$={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===p||"undefined"==typeof p)&&(p=e()),m=o[g]&&o[g][p]),"undefined"==typeof m||!m.length||!m[0]){var x="";if(!h){k=[];for(b in o[g])this.terminals_[b]&&b>2&&k.push("'"+this.terminals_[b]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:k})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:n.push(p),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[m[1]][1],$.$=s[s.length-y],$._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},d&&($._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call($,a,c,l,this.yy,m[1],s,r),"undefined"!=typeof v)return v;y&&(n=n.slice(0,-1*y*2),s=s.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),s.push($.$),r.push($._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},i=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,i,n,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(i=this._input.match(this.rules[r[o]]),!i||e&&!(i[0].length>e[0].length)||(e=i,n=o,this.options.flex));o++);return e?(s=e[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,i,n){switch(i){case 0:return e.yytext="\\",14;case 1:if("\\"!==e.yytext.slice(-1)&&this.begin("mu"),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu")),e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return this.begin("par"),24;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 23;case 12:this.popState(),this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 36;case 16:return 35;case 17:return 35;case 18:return 39;case 19:break;case 20:return this.popState(),18;case 21:return this.popState(),18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),30;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),30;case 24:return e.yytext=e.yytext.substr(1),28;case 25:return 32;case 26:return 32;case 27:return 31;case 28:return 35;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),35;case 30:return"INVALID";case 31:break;case 32:return this.popState(),37;case 33:return 5}},t.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$:\-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$\-\/]+)/,/^(?:$)/],t.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,33],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},par:{rules:[31,32],inclusive:!1},INITIAL:{rules:[0,1,2,33],inclusive:!0}},t}();return e.lexer=i,t.prototype=e,e.Parser=t,new t}();t.Parser=r,t.parse=function(e){return e.constructor===t.AST.ProgramNode?e:(t.Parser.yy=t.AST,t.Parser.parse(e))
},t.AST={},t.AST.ProgramNode=function(e,i){this.type="program",this.statements=e,i&&(this.inverse=new t.AST.ProgramNode(i))},t.AST.MustacheNode=function(t,e,i){this.type="mustache",this.escaped=!i,this.hash=e;var n=this.id=t[0],s=this.params=t.slice(1),r=this.eligibleHelper=n.isSimple;this.isHelper=r&&(s.length||e)},t.AST.PartialNode=function(t,e){this.type="partial",this.partialName=t,this.context=e},t.AST.BlockNode=function(e,i,n,s){var r=function(e,i){if(e.original!==i.original)throw new t.Exception(e.original+" doesn't match "+i.original)};r(e.id,s),this.type="block",this.mustache=e,this.program=i,this.inverse=n,this.inverse&&!this.program&&(this.isInverse=!0)},t.AST.ContentNode=function(t){this.type="content",this.string=t},t.AST.HashNode=function(t){this.type="hash",this.pairs=t},t.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var i=[],n=0,s=0,r=e.length;r>s;s++){var o=e[s];if(".."===o||"."===o||"this"===o){if(i.length>0)throw new t.Exception("Invalid path: "+this.original);".."===o?n++:this.isScoped=!0}else i.push(o)}this.parts=i,this.string=i.join("."),this.depth=n,this.isSimple=1===e.length&&!this.isScoped&&0===n,this.stringModeValue=this.string},t.AST.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t},t.AST.DataNode=function(t){this.type="DATA",this.id=t},t.AST.StringNode=function(t){this.type="STRING",this.string=t,this.stringModeValue=t},t.AST.IntegerNode=function(t){this.type="INTEGER",this.integer=t,this.stringModeValue=Number(t)},t.AST.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},t.AST.CommentNode=function(t){this.type="comment",this.comment=t};var o=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<o.length;e++)this[o[e]]=t[o[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,h=function(t){return a[t]||"&amp;"};t.Utils={extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),c.test(e)?e.replace(l,h):e)},isEmpty:function(t){return t||0===t?"[object Array]"===i.call(t)&&0===t.length?!0:!1:!0}};var u=t.Compiler=function(){},d=t.JavaScriptCompiler=function(){};u.prototype={compiler:u,disassemble:function(){for(var t,e,i,n=this.opcodes,s=[],r=0,o=n.length;o>r;r++)if(t=n[r],"DECLARE"===t.opcode)s.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)i=t.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),e.push(i);s.push(t.opcode+" "+e.join(" "))}return s.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;e>i;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var r=0;r<n.args.length;r++)if(n.args[r]!==s.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;e>i;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.program(t)},accept:function(t){return this[t.type](t)},program:function(t){var e,i=t.statements;this.opcodes=[];for(var n=0,s=i.length;s>n;n++)e=i[n],this[e.type](e);return this.isSimple=1===s,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var s=0,r=i.depths.list.length;r>s;s++)e=i.depths.list[s],2>e||this.addDepth(e-1);return n},block:function(t){var e=t.mustache,i=t.program,n=t.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var s=this.classifyMustache(e);"helper"===s?this.helperMustache(e,i,n):"simple"===s?(this.simpleMustache(e),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var s=0,r=n.length;r>s;s++)e=n[s],i=e[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,i=this.classifyMustache(t);"simple"===i?this.simpleMustache(t):"helper"===i?this.helperMustache(t):this.ambiguousMustache(t),t.escaped&&!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(t,e,i){var n=t.id,s=n.parts[0],r=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,r)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+s);this.opcode("invokeHelper",n.length,s)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var i=1,n=t.parts.length;n>i;i++)this.opcode("lookup",t.parts[i])},DATA:function(t){this.options.data=!0,this.opcode("lookupData",t.id)},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;if(i&&!e){var s=t.id.parts[0];n.knownHelpers[s]?e=!0:n.knownHelpersOnly&&(i=!1)}return e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}};var p=function(t){this.value=t};d.prototype={nameLookup:function(t,e){return/^[0-9]+$/.test(e)?t+"["+e+"]":d.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,i,n,s){this.environment=e,this.options=i||{},t.log(t.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,i);var r,o=e.opcodes;for(this.i=0,v=o.length;this.i<v;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(s)},nextOpcode:function(){var t=this.environment.opcodes;return t[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,i="helpers = helpers || "+e+".helpers;";this.environment.usePartial&&(i=i+" partials = partials || "+e+".partials;"),this.options.data&&(i+=" data = data || {};"),t.push(i)}this.environment.isSimple?t.push(""):t.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(e){var i=this.stackVars.concat(this.registers.list);if(i.length>0&&(this.source[1]=this.source[1]+", "+i.join(", ")),!this.isChild)for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var s=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)s.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(!this.isChild){var l=t.COMPILER_REVISION,c=t.REVISION_CHANGES[l];a="this.compilerInfo = ["+l+",'"+c+"'];\n"+a}if(e)return s.push(a),Function.apply(this,s);var h="function "+(this.name||"")+"("+s.join(",")+") {\n  "+a+"}";return t.log(t.logger.DEBUG,h+"\n\n"),h},mergeSource:function(){for(var t,i="",n=0,s=this.source.length;s>n;n++){var r=this.source[n];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(i+="buffer += "+t+";\n  ",t=e),i+=r+"\n  ")}return i},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.source.push(this.appendToBuffer(this.quotedString(t)))},append:function(){this.flushInline();var t=this.popStack();this.source.push("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(t){this.push(this.nameLookup("data",t,"data"))},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=e,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var i=this.lastHelper=this.setupHelper(t,e,!0);this.push(i.name),this.replaceStack(function(t){return t+" ? "+t+".call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),s=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();this.source.push("if ("+r+" = "+n+") { "+r+" = "+r+".call("+i.callParams+"); }"),this.source.push("else { "+r+" = "+s+"; "+r+" = typeof "+r+" === functionType ? "+r+".apply(depth0) : "+r+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),s.values.push("'"+t+"': ("+n+")")},compiler:d,compileChildren:function(t,e){for(var i,n,s=t.children,r=0,o=s.length;o>r;r++){i=s[r],n=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,e,this.context),this.context.environments[a]=i):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;i>e;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,i=this.environment.children[t],n=i.depths.list,s=[i.index,i.name,"data"],r=0,o=n.length;o>r;r++)e=n[r],1===e?s.push("depth0"):s.push("depth"+(e-1));return(0===n.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(t,e){this.useRegister(t),this.source.push(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new p(t))},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.source.push(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i="",n=this.isInline();if(n){var s=this.popStack(!0);if(s instanceof p)e=s.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();i="("+this.push(r)+" = "+s+"),",e=this.topStack()}}else e=this.topStack();var o=t.call(this,e);return n?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+i+o+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+i+o+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;i>e;e++){var n=t[e];n instanceof p?this.compileStack.push(n):this.pushStack(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();return!t&&i instanceof p?i.value:(e||this.stackSlot--,i)},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,i=e[e.length-1];return!t&&i instanceof p?i.value:i},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[];this.setupParams(t,n,i);var s=this.nameLookup("helpers",e,"helper");return{params:n,name:s,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupParams:function(t,e,i){var n,s,r,o=[],a=[],l=[];o.push("hash:"+this.popStack()),s=this.popStack(),r=this.popStack(),(r||s)&&(r||(this.context.aliases.self="this",r="self.noop"),s||(this.context.aliases.self="this",s="self.noop"),o.push("inverse:"+s),o.push("fn:"+r));for(var c=0;t>c;c++)n=this.popStack(),e.push(n),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+l.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",i?(this.register("options",o),e.push("options")):e.push(o),e.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),g=d.RESERVED_WORDS={},m=0,v=f.length;v>m;m++)g[f[m]]=!0;d.isValidJavaScriptVariableName=function(t){return!d.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t)?!0:!1},t.precompile=function(e,i){if(null==e||"string"!=typeof e&&e.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);i=i||{},"data"in i||(i.data=!0);var n=t.parse(e),s=(new u).compile(n,i);return(new d).compile(s,i)},t.compile=function(i,n){function s(){var s=t.parse(i),r=(new u).compile(s,n),o=(new d).compile(r,n,e,!0);return t.template(o)}if(null==i||"string"!=typeof i&&i.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);n=n||{},"data"in n||(n.data=!0);var r;return function(t,e){return r||(r=s()),r.call(this,t,e)}},t.VM={template:function(e){var i={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,i,n){var s=this.programs[e];return n?s=t.VM.program(e,i,n):s||(s=this.programs[e]=t.VM.program(e,i)),s},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,s){s=s||{};var r=e.call(i,t,n,s.helpers,s.partials,s.data),o=i.compilerInfo||[],a=o[0]||1,l=t.COMPILER_REVISION;if(a!==l){if(l>a){var c=t.REVISION_CHANGES[l],h=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+h+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return r}},programWithDepth:function(t,e,i){var n=Array.prototype.slice.call(arguments,3),s=function(t,s){return s=s||{},e.apply(this,[t,s.data||i].concat(n))};return s.program=t,s.depth=n.length,s},program:function(t,e,i){var n=function(t,n){return n=n||{},e(t,n.data||i)};return n.program=t,n.depth=0,n},noop:function(){return""},invokePartial:function(i,n,s,r,o,a){var l={helpers:r,partials:o,data:a};if(i===e)throw new t.Exception("The partial "+n+" could not be found");if(i instanceof Function)return i(s,l);if(t.compile)return o[n]=t.compile(i,{data:a!==e}),o[n](s,l);throw new t.Exception("The partial "+n+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(n),i.exports=n}),define("common/arale/templatable/templatable",["base/jquery/1.8.3/jquery","base/gallery/handlebars/handlebars"],function(t,e,i){function n(t){return a(t)?null:c(r(t))}function s(t,e){if(t){var i;if(e){if(i=t.find(e),0===i.length)throw new Error("Invalid template selector: "+e)}else i=t;return o(i.html())}}function r(t){return t.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-templatable-$1=$2$3$2")}function o(t){return t.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-templatable-/gi,"")}function a(t){return"function"==typeof t}function l(t){if(!t)return{};var e={};for(var i in t){var n=t[i];e[i]=a(n)?n:h.compile(n)}return e}var c=t("base/jquery/1.8.3/jquery"),h=t("base/gallery/handlebars/handlebars"),u={};i.exports={templateHelpers:null,templatePartials:null,templateObject:null,parseElementFromTemplate:function(){var t,e=this.get("template");/^#/.test(e)&&(t=document.getElementById(e.substring(1)))&&(e=t.innerHTML,this.set("template",e)),this.templateObject=n(e),this.element=c(this.compile())},compile:function(t,e){if(t||(t=this.get("template")),e||(e=this.get("model"))||(e={}),e.toJSON&&(e=e.toJSON()),a(t))return t(e,{helpers:this.templateHelpers,partials:l(this.templatePartials)});var i,n,s=this.templateHelpers,r=this.templatePartials;if(s)for(i in s)s.hasOwnProperty(i)&&h.registerHelper(i,s[i]);if(r)for(n in r)r.hasOwnProperty(n)&&h.registerPartial(n,r[n]);var o=u[t];o||(o=u[t]=h.compile(t));var c=o(e);if(s)for(i in s)s.hasOwnProperty(i)&&delete h.helpers[i];if(r)for(n in r)r.hasOwnProperty(n)&&delete h.partials[n];return c},renderPartial:function(t){if(this.templateObject){var e=s(this.templateObject,t);e?t?this.$(t).html(this.compile(e)):this.element.html(this.compile(e)):this.element.html(this.compile())}else{var i=c(this.compile()),n=i.find(t);n.length?this.$(t).html(n.html()):this.element.html(i.html())}return this}};var d=h.compile;h.compile=function(t){return a(t)?t:d.call(h,t)}}),define("common/arale/dialog/dialog",["base/jquery/1.8.3/jquery","common/arale/overlay/overlay","common/arale/overlay/mask","base/events/events","common/arale/templatable/templatable","./dialog.css"],function(t,e,i){function n(t){null==t.attr("tabindex")&&t.attr("tabindex","-1")}function s(t){var e=t[0].contentWindow.document;return e.body.scrollHeight&&e.documentElement.scrollHeight?Math.min(e.body.scrollHeight,e.documentElement.scrollHeight):e.documentElement.scrollHeight?e.documentElement.scrollHeight:e.body.scrollHeight?e.body.scrollHeight:void 0}var r=t("base/jquery/1.8.3/jquery"),o=t("common/arale/overlay/overlay"),a=t("common/arale/overlay/mask"),l=t("base/events/events"),c=t("common/arale/templatable/templatable");t("./dialog.css");var h=o.extend({Implements:c,attrs:{template:'<div class="{{classPrefix}}"><a class="{{classPrefix}}-close" title="关闭本框" href="javascript:;" data-role="close"></a><div class="{{classPrefix}}-content" data-role="content"></div></div>',trigger:{value:null,getter:function(t){return r(t)}},classPrefix:"ui-dialog-z",content:{value:null,setter:function(t){return/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(t)&&(this._type="iframe"),t}},hasMask:!0,closeTpl:"×",width:500,height:null,initialHeight:300,effect:"none",zIndex:999,autoFit:!0,align:{value:{selfXY:["50%","50%"],baseXY:["50%","50%"]},getter:function(t){return this.element.height()>r(window).height()?{selfXY:["50%","0"],baseXY:["50%","0"]}:t}}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix")}),h.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(t){t.preventDefault(),this.hide()}},show:function(){return"iframe"===this._type&&(!this.get("height")&&this.contentElement.css("height",this.get("initialHeight")),this._showIframe()),h.superclass.show.call(this),this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"javascript:'';"}),this.iframe.remove(),this.iframe=null),h.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),this._hideMask(),clearInterval(this._interval),h.superclass.destroy.call(this)},setup:function(){h.superclass.setup.call(this),this._setupTrigger(),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),n(this.element),n(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},_onRenderContent:function(t){if("iframe"!==this._type){var e;try{e=r(t)}catch(i){e=[]}e[0]?this.contentElement.empty().append(e):this.contentElement.empty().html(t),this._setPosition()}},_onRenderCloseTpl:function(t){""===t?this.$("[data-role=close]").html(t).hide():this.$("[data-role=close]").html(t).show()},_onRenderVisible:function(t){t?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()},_setupTrigger:function(){this.delegateEvents(this.get("trigger"),"click",function(t){t.preventDefault(),this.activeTrigger=r(t.currentTarget),this.show()})},_setupMask:function(){var t=this;a._dialogs=a._dialogs||[],this.after("show",function(){if(this.get("hasMask")){a.set("zIndex",t.get("zIndex")).show(),a.element.insertBefore(t.element);for(var e=!1,i=0;i<a._dialogs.length;i++)a._dialogs[i]===t&&(e=!0);e||a._dialogs.push(t)}}),this.after("hide",this._hideMask)},_hideMask:function(){if(this.get("hasMask"))if(a._dialogs&&a._dialogs.pop(),a._dialogs&&a._dialogs.length>0){var t=a._dialogs[a._dialogs.length-1];a.set("zIndex",t.get("zIndex")),a.element.insertBefore(t.element)}else a.hide()},_setupFocus:function(){this.after("show",function(){this.element.focus()}),this.after("hide",function(){this.activeTrigger&&this.activeTrigger.focus()})},_setupKeyEvents:function(){this.delegateEvents(r(document),"keyup",function(t){27===t.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var t=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){t.get("visible")&&(t.get("autoFit")&&(clearInterval(t._interval),t._interval=setInterval(function(){t._syncHeight()},300)),t._syncHeight(),t._setPosition(),t.trigger("complete:show"))})},_fixUrl:function(){var t=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return t.shift(),t[1]=(t[1]&&"?"!==t[1]?t[1]+"&":"?")+"t="+(new Date).getTime(),t.join("")},_createIframe:function(){var t=this;this.iframe=r("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){t.hide()})},_syncHeight:function(){var t;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{this._errCount=0,t=s(this.iframe)+"px"}catch(e){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(t=this.get("initialHeight"),clearInterval(this._interval),delete this._interval)}this.contentElement.css("height",t),this.element[0].className=this.element[0].className}}});i.exports=h}),define("common/arale/dialog/confirmbox",["base/jquery/1.8.3/jquery","./dialog","./dialog.css"],function(t,e,i){var n=t("base/jquery/1.8.3/jquery"),s=t("./dialog"),r='{{#if title}}<div class="{{classPrefix}}-title" data-role="title">{{{title}}}</div>{{/if}}<div class="{{classPrefix}}-container"><div class="{{classPrefix}}-message" data-role="message">{{{message}}}</div>{{#if hasFoot}}<div class="{{classPrefix}}-operation" data-role="foot">{{#if confirmTpl}}<div class="{{classPrefix}}-confirm" data-role="confirm">{{{confirmTpl}}}</div>{{/if}}{{#if cancelTpl}}<div class="{{classPrefix}}-cancel" data-role="cancel">{{{cancelTpl}}}</div>{{/if}}</div>{{/if}}</div>';t("./dialog.css");var o=s.extend({attrs:{title:"默认标题",classPrefix:"ui-dialog",confirmTpl:'<a class="ui-dialog-button-orange" href="javascript:;">确定</a>',cancelTpl:'<a class="ui-dialog-button-white" href="javascript:;">取消</a>',message:"默认内容"},setup:function(){o.superclass.setup.call(this);var t={classPrefix:this.get("classPrefix"),message:this.get("message"),title:this.get("title"),confirmTpl:this.get("confirmTpl"),cancelTpl:this.get("cancelTpl"),hasFoot:this.get("confirmTpl")||this.get("cancelTpl")};this.set("content",this.compile(r,t))},events:{"click [data-role=confirm]":function(t){t.preventDefault(),this.trigger("confirm")},"click [data-role=cancel]":function(t){t.preventDefault(),this.hide()}},_onChangeMessage:function(t){this.$("[data-role=message]").html(t)},_onChangeTitle:function(t){this.$("[data-role=title]").html(t)},_onChangeConfirmTpl:function(t){this.$("[data-role=confirm]").html(t)},_onChangeCancelTpl:function(t){this.$("[data-role=cancel]").html(t)}});o.alert=function(t,e,i){var s={message:t,title:"提示信息",cancelTpl:"",closeTpl:"×",onConfirm:function(){e&&e(),this.hide()}};new o(n.extend(null,s,i)).show().after("hide",function(){this.destroy()})},o.confirm=function(t,e,i,s){var r={message:t,title:e||"确认框",closeTpl:"",onConfirm:function(){i&&i(),this.hide()}};new o(n.extend(null,r,s)).show().after("hide",function(){this.destroy()})},o.show=function(t,e,i){var s={message:t,title:"",confirmTpl:!1,cancelTpl:!1};new o(n.extend(null,s,i)).show().before("hide",function(){e&&e()}).after("hide",function(){this.destroy()})},i.exports=o}),define("common/login",["base/jquery/1.8.3/jquery","util/md5/md5","common/arale/dialog/confirmbox"],function(require,exports,module){var $=require("base/jquery/1.8.3/jquery"),hex_md5=require("util/md5/md5"),Confirmbox=require("common/arale/dialog/confirmbox"),isSubmit=!1;$(function(){function charTyhe(t){return t>=48&&57>=t?1:t>=65&&90>=t?2:t>=97&&122>=t?2:3}function checkStrength(t){Modes=0;var e=0,n=0,s=0;for(i=0;i<t.length;i++)Modes=charTyhe(t.charCodeAt(i)),1==Modes?e=1:2==Modes?n=1:3==Modes&&(s=1);var r=e+n+s;return r}function changeLoginImg(t){var e=$("#"+t)[0];e.src=e.src+"?"}var portalPath=$("#portalPath").attr("data_id"),picPath=$("#picPath").attr("data_id"),detailPath=$("#detailPath").attr("data_id"),defalutImgPath=$("#cssAndJsPath").attr("data_id")+"/images",staticPath=$("#staticPath").attr("data_id"),loginDialog=new Confirmbox({width:"420",effect:"fade",title:"登录/注册",autoFit:!0,confirmTpl:"",cancelTpl:"",message:'<div id="loginIn" class="modal-dialog-bd login-interface"><input type="hidden" id="hideMark" value="0"/><div id="divLogin" class="interface-con"><div class="con-title"><ul class="fn-clear"><li class="current">登录</li><li><a id="registLi" href="javascript:void(0);">注册</a></li></ul></div><div class="con"><form id="login" method="post" action=""><input type="hidden" value="1" id="vecodeHide" name="vecodeHide"><div class="wb">用户名/已验证邮箱/已验证手机</div><div class="wb-k"><input type="text" class="kuang" id="loginName" maxlength="50" autocomplete="off" style="z-index: 888;" name="loginName"></div><div class="wb">密码</div><div class="wb-k"><div><input type="password" class="kuang" id="password" name="password"></div><div id="failDiv" style="display:none;" class="cw"></div></div><div style="display:none;" id="vaCodeDiv"><div class="wb-k verify"><input type="text" class="fn-text" id="veCode" name="veCode"><a id="changeLogins" href="javascript:void(0);"><img width="80" height="30" alt="" src="'+portalPath+'/imageAuthCode.action" id="imageCodeLogin"></a><a id="changeLogin" href="javascript:void(0);">看不清？换一张</a></div></div><div class="w"><input type="hidden" value="0" name="checkboxVa" id="checkboxVa"><input type="checkbox" id="loginCheckbox" name="chkRememberMe" class="checkbox"> <span class="mar">自动登录</span> <span><a target="_blank" href="'+portalPath+'/resetPwd.action">忘记密码?</a></span></div><div class="anniu"><a id="formSubmit" href="javascript:void(0);"> <span class="login-btn"></span></a></div></form></div></div><div style="display:none;" id="divRegist" class="interface-con"><div class="con-title"><ul class="fn-clear"><li><a id="login_dialog" href="javascript:void(0);">登录</a></li><li class="current">注册</li></ul></div><div class="con"><form method="post" action="" id="regist" name="regist"><div class="wb">邮箱</div><div class="wb-k"><div><input type="text" class="kuang" id="registEmail" maxlength="50" name="registEmail"></div><div id="veEmailFailDiv" style="display:none;" class="cw"></div></div><div class="wb">用户名</div><div class="wb-k"><div><input type="text" class="kuang" id="loginAccount" name="loginAccount"></div><div id="veNameFailDiv" style="display:none;" class="cw"></div></div><div class="wb">请设置密码</div><div class="wb-k"><div><input type="password" class="kuang" id="registPassword" name="registPassword"></div><div id="vePasswordFailDiv" style="display:none;" class="cw"></div><div style="width:239px;position:absolute;left:0px;top:32px;z-index:4;border:0px none;background:none repeat scroll 0% 0% rgb(255,255,255);color:rgb(102,102,102);display:none;" class="cw letter fn-clear"><span class="current" id="slevel1">弱</span><span id="slevel2">中</span><span id="slevel3">强</span></div></div><div class="wb">请确认密码</div><div class="wb-k"><div><input type="password" class="kuang" id="vePassword" name="vePassword"></div><div id="veFailDiv" style="display:none;" class="cw"></div></div><div class="wb-k verify"><div><input type="text" class="fn-text" id="veCodeRegist" name="veCode"><a href="javascript:void(0);"><img width="80" height="30" alt="" src="'+portalPath+'/imageAuthCode.action" id="imageCodeRegist"> </a><a id="changeRegist" href="javascript:void(0);">看不清？换一张</a></div><div id="veCodeFailDiv" style="display:none;" class="cw"></div></div><div class="w"><input type="checkbox" name="chkRememberMe" checked="checked" class="checkbox" id="ckdivreg" value=""><span class="mar">我已阅读并接受</span> <span><a href="'+staticPath+'/helps/help-member-agreement.shtml" target="_blank">《用户协议》</a></span></div><div class="anniu"><a id="regist_link" href="javascript:void(0);"><span class="signin-btn"></span></a></div></form></div></div></div>'}).after("show",function(){function StringSize(t){return null==t?0:t.length+t.replace(/[\u0000-\u00ff]/g,"").length
}function divLogin(){if(!isSubmit){var loginName=obj.find("#loginName").val(),password=obj.find("#password").val(),nlen=StringSize(loginName);if(""==loginName||""==password)obj.find("#failDiv").html("请输入用户名或密码！").show();else if(6>nlen||nlen>64)obj.find("#failDiv").html("邮箱/用户名长度必须大于6个字符！").show();else if(password.length<6||password.length>16)obj.find("#failDiv").html("密码长度在6到16字符之间！").show();else{var checkboxVa;checkboxVa=obj.find("#loginCheckbox").attr("checked")?"1":"0";var passwordcode=hex_md5(password),hideValue=obj.find("#vecodeHide").val(),parm;if(2==hideValue){var veCode=obj.find("#veCode").val();parm={checkboxVa:checkboxVa,loginName:encodeURI(loginName),passwordcode:passwordcode,veCode:veCode}}else parm={checkboxVa:checkboxVa,loginName:encodeURI(loginName),passwordcode:passwordcode};$.getJSON(portalPath+"/CMSLoginAction.action?callback=?",parm,function(json){var data=eval(json),info=data.returnObject;if("0"!=info){if(-2==info)obj.find("#failDiv").html("该用户已被系统禁用，请联系客服！").show();else if("-1"==info)obj.find("#failDiv").html("您输入的验证码不匹配，请重新输入").show();else{obj.find("#failDiv").html("您输入的用户名和密码不匹配，请重新输入").show();var count=parseInt(info);count>=3&&(obj.find("#vaCodeDiv").show(),obj.find("#vecodeHide").val(2))}changeLoginImg("imageCodeLogin")}else{isSubmit=!0;var urlLink=window.location.pathname;if("/regfree/freeOrderInfo.action"==urlLink)return window.location.href="/settlement/gotoSettlement.action",void 0;if("/html/regist.html"==urlLink||"/html/loginPage.html"==urlLink)return window.location.href=staticPath+"/index.html",void 0;obj.find("#viewLogin").hide(),window.location.reload()}})}}}function divSubReg(){if(!isSubmit){var loginAccount=obj.find("#loginAccount").val(),registPassword=obj.find("#registPassword").val(),vePassword=obj.find("#vePassword").val(),registEmail=obj.find("#registEmail").val(),veCodeRegist=obj.find("#veCodeRegist").val(),myreg=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,lAreg=/^[\u4E00-\u9FA5\w\d\-@\.]+$/,cked=obj.find("#ckdivreg").attr("checked"),nlen=StringSize(loginAccount);"checked"==cked&&(cked=!0),1!=cked?alert("请阅读并同意《用户协议》！"):""==registEmail?obj.find("#veEmailFailDiv").html("请输入邮箱！").show():myreg.test(registEmail)?null!=registEmail&&(6>registEmail||registEmail>50)?obj.find("#veEmailFailDiv").html("邮箱地址长度应在6-50个字符之间！").show():""==loginAccount||""==registPassword?obj.find("#veFailDiv").html("请输入用户名或密码！").show():6>nlen||nlen>20?obj.find("#veFailDiv").html("用户名长度在6-20字符之间！").show():lAreg.test(loginAccount)?registPassword.length<6||registPassword.length>16?obj.find("#veFailDiv").html("密码应该是6到16位的字符！").show():vePassword!=registPassword?obj.find("#veFailDiv").html("您输入的密码不一致！").show():5==mark&&(parm={veCode:veCodeRegist},$.getJSON(portalPath+"/validveCodeRegist.action?callback=?",parm,function(json){var data=eval(json),info=data.returnObject;if("0"==info)mark=2,obj.find("#veCodeFailDiv").html("您输入的验证码有误！").show(),changeLoginImg("imageCodeRegist"),obj.find("#veCodeRegist").focus();else{var parm={registEmail:registEmail,loginAccount:encodeURI(loginAccount),registPassword:registPassword};obj.find("#regist_link").removeAttr("onclick").unbind("click"),$.getJSON(portalPath+"/CMSRegistAction.action?callback=?",parm,function(json){var data=eval(json),info=data.returnObject;if("1"==info){isSubmit=!0;var urlLink=window.location.pathname;if("/regfree/freeOrderInfo.action"==urlLink)return window.location.href="/settlement/gotoSettlement.action",void 0;window.location.href=portalPath+"/regSuccess.action?registEmail="+registEmail}else obj.find("#regist_link").bind("click",submitRegist)})}})):obj.find("#veFailDiv").html("用户名只能由中文、英文、数字及“_”、“@”、“.”、“-”组成").show():obj.find("#veEmailFailDiv").html("请输入有效的邮箱！").show()}}function changeLoginImg(t){var e=obj.find("#"+t)[0];e.src=e.src+"?"}function validDivTxtLoginAccount(type,params){$.getJSON(portalPath+"/CMSvalidemailRegist.action?callback=?",params,function(json){var data=eval(json),info=data.returnObject;6==info&&(obj.find("#failDiv").html('非正式账号，请先<a href="javascript:void(0);" id="divloginGoUnRegMember" attrType="'+type+'" >【转为会员】</a>才能登录').show(),obj.find("#divloginGoUnRegMember").on("click",function(){var t=$(this).attr("attrType"),e=portalPath+"/resetPwdgoUnRegMember.action?";e+=1==t?"ckUser.email="+obj.find("#loginName").val():"ckUser.mobile="+obj.find("#loginName").val(),window.open(e)}))})}var t=this,obj=t.contentElement;require.async("common/arale/autocomplete/autocomplete",function(t){var e=["163.com","qq.com","126.com","gmail.com"];new t({trigger:obj.find("#loginName"),dataSource:function(t){var i=$.map(e,function(e){return t+"@"+e});return i},filter:"",inputFilter:function(t){return/.*@.*/.test(t)?t.replace(/^(.*)@.*$/,"$1"):""}}).render().on("itemSelect",function(){setTimeout(function(){obj.find("#password").focus()},10)}),new t({trigger:obj.find("#registEmail"),dataSource:function(t){var i=$.map(e,function(e){return t+"@"+e});return i},filter:"",inputFilter:function(t){return t.replace(/^(.*)@.*$/,"$1")}}).render().on("itemSelect",function(){setTimeout(function(){obj.find("#loginAccount").focus()},10)})}),obj.find("#failDiv").hide(),obj.find("#loginName").val(""),obj.find("#password").val(""),obj.find("#regist .cw").hide(),obj.find("#regist input").each(function(){$(this).val("")}),$.getJSON(portalPath+"/loginInfoAction.action?callback=?",function(json){var data=eval(json);2==data.returnObject.mark?(obj.find("#loginName").val(data.returnObject.user.loginAccount),obj.find("#password").focus()):obj.find("#loginName").focus()});try{$.getJSON(portalPath+"/getLoginTime.action?callback=?",function(t){t.returnObject>=3&&(obj.find("#vaCodeDiv").show(),obj.find("#vecodeHide").val(2))})}catch(e){}obj.find("#divLogin").show(),obj.find("#divRegist").hide(),obj.find("#viewLogin").show(),obj.find("#hideLogin").click(function(){obj.find("#viewLogin").hide()}),obj.find("#loginIn").keydown(function(t){if(13==t.keyCode){var e=obj.find("#hideMark").val();0==e?divLogin():1==e&&divSubReg()}}),obj.find("#formSubmit").click(function(t){t.preventDefault(),divLogin()}),obj.find("#registLi").click(function(e){e.preventDefault(),obj.find("#hideMark").val("1"),obj.find("#divLogin").hide(),obj.find("#divRegist").show(),obj.find("#registEmail").focus(),t._setPosition()}),obj.find("#login_dialog").click(function(e){e.preventDefault(),obj.find("#hideMark").val("0"),t._setPosition(),obj.find("#divLogin").show(),obj.find("#divRegist").hide(),obj.find("#loginName").val()?obj.find("#password").focus():obj.find("#loginName").focus()}),obj.find("#changeRegist").click(function(t){t.preventDefault(),changeLoginImg("imageCodeRegist")}),obj.find("#imageCodeRegist").click(function(t){t.preventDefault(),changeLoginImg("imageCodeRegist")}),obj.find("#changeLogin").click(function(t){t.preventDefault(),changeLoginImg("imageCodeLogin")}),obj.find("#changeLogins").click(function(t){t.preventDefault(),changeLoginImg("imageCodeLogin")}),obj.find("#regist_link").click(function(t){t.preventDefault(),divSubReg()}),obj.find("#vePassword").blur(function(){var t=obj.find("#registPassword").val(),e=obj.find("#vePassword").val();t!=e?(mark=1,obj.find("#veFailDiv").html("两次输入的密码必须一致！").show()):(obj.find("#veFailDiv").hide(),mark=5)}),obj.find("#loginName").blur(function(){var t=obj.find("#loginName").val();if(null==t||t.length<6)return obj.find("#failDiv").html("邮箱/用户名/已验证手机长度必须大6个字符").show(),void 0;obj.find("#failDiv").hide();var e=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,i=/^1\d{10}$/;e.test(t)?validDivTxtLoginAccount(1,{"user.email":t}):i.test(t)&&validDivTxtLoginAccount(2,{"user.mobile":t})}),obj.find("#password").blur(function(){var t=obj.find("#password").val();return null==t||t.length<6?(obj.find("#failDiv").html("密码长度在6-20字符之间").show(),void 0):(obj.find("#failDiv").hide(),void 0)}),obj.find("#registEmail").blur(function(){var registEmail=obj.find("#registEmail").val(),myreg=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;if(""==registEmail)obj.find("#veEmailFailDiv").html("请输入邮箱！").show();else if(myreg.test(registEmail))if(StringSize(registEmail)>50||StringSize(registEmail)<6)obj.find("#veEmailFailDiv").html("邮箱地址长度应在6-50个字符之间！").show();else{var parm={"user.email":registEmail};$.getJSON(portalPath+"/CMSvalidemailRegist.action?callback=?",parm,function(json){var data=eval(json),info=data.returnObject;6==info?(mark=4,obj.find("#veEmailFailDiv").html('邮箱曾被用于采购，请<a href="javascript:void(0);" id="divGoUnRegMember" >【点此转为会员】</a>').show(),obj.find("#divGoUnRegMember").on("click",function(){$("#viewLogin").hide(),window.open(portalPath+"/resetPwdgoUnRegMember.action?ckUser.email="+registEmail)})):-1!=info?(mark=4,obj.find("#veEmailFailDiv").html("您的邮箱已经被注册，请使用其他邮箱！").show()):(obj.find("#veEmailFailDiv").hide(),mark=5)})}else obj.find("#veEmailFailDiv").html("请输入有效的邮箱！").show()}),obj.find("#loginAccount").blur(function(){var loginAccount=obj.find("#loginAccount").val(),nlen=StringSize(loginAccount),lAreg=/^[\u4E00-\u9FA5\w\d\-@\.]+$/;if(""==loginAccount)mark=2,obj.find("#veNameFailDiv").html("请输入用户名！").show();else if(6>nlen||nlen>20)mark=2,obj.find("#veNameFailDiv").html("用户名长度在6-20字符之间！").show();else if(lAreg.test(loginAccount)){var parm={loginAccount:encodeURI(loginAccount)};$.getJSON(portalPath+"/CMSvalidvloginAccountRegist.action?callback=?",parm,function(json){var data=eval(json),info=data.returnObject;0==info?(obj.find("#veNameFailDiv").hide(),mark=5):-1==info?(mark=3,obj.find("#veNameFailDiv").html("用户名包含敏感字符，请重新输入！").show()):(mark=3,obj.find("#veNameFailDiv").html("您的用户名已经被注册，请使用其他用户名注册！").show())})}else mark=2,obj.find("#veNameFailDiv").html("用户名只能由中文、英文、数字及“_”、“@”、“.”、“-”组成").show()}),obj.find("#registPassword").focus(function(){$("#vePasswordFailDiv").hide()}),obj.find("#registPassword").blur(function(){var t=obj.find("#registPassword").val();if(""==t)mark=2,obj.find("#vePasswordFailDiv").show(),obj.find("#vePasswordFailDiv").html("请输入的用户名或密码！");else if(t.length<6||t.length>16)mark=2,obj.find("#vePasswordFailDiv").show(),obj.find("#vePasswordFailDiv").html("密码应该是6到16位的字符！");else{var e=checkStrength(t);1==e?(obj.find("#slevel1").attr("class","current"),obj.find("#slevel2").removeClass("current"),obj.find("#slevel3").removeClass("current")):2==e?(obj.find("#slevel1").attr("class","current"),obj.find("#slevel2").attr("class","current"),obj.find("#slevel3").removeClass("current")):3==e&&(obj.find("#slevel1").attr("class","current"),obj.find("#slevel2").attr("class","current"),obj.find("#slevel3").attr("class","current")),obj.find("#vePasswordFailDiv").hide(),mark=5}}),obj.find("#veCodeRegist").blur(function(){var t=obj.find("#veCodeRegist").val();""==t?(mark=2,obj.find("#veCodeFailDiv").html("您输入的验证码！").show()):4!=t.length?(mark=2,obj.find("#veCodeFailDiv").html("您输入的验证码有误！").show()):(obj.find("#veCodeFailDiv").hide(),mark=5)})});$(document).on("click","#displayLogin2",function(){loginDialog.show()}),$("#addCookie").unbind("click").bind("click",function(t){t.preventDefault();try{window.external.addFavorite(staticPath+"/index.html","康美之恋")}catch(t){try{window.sidebar.addPanel("康美之恋",staticPath+"/index.html","")}catch(t){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}),$(document).on("click","#exitLogin",function(e){e.preventDefault(),$.getJSON(portalPath+"/UserExitAction.action?callback=?",function(json){var data=eval(json);"200"==data.code&&(location.href=portalPath+"/html/loginPage.html")})});var mark=0})}),define("common/adv",["base/jquery/1.8.3/jquery"],function(t){var e=t("base/jquery/1.8.3/jquery");!function(){var t=0;e("#jsNav a").each(function(i){e(this).click(function(){return t=i,e("#js li").eq(i).fadeIn("slow").siblings("li").fadeOut("slow"),e(this).siblings().removeClass("slide-number-active").end().addClass("slide-number-active"),!1})});var i=function(i){todo=i?0==t?2:(t-1)%4:(t+1)%4,e("#jsNav a").eq(todo).click()};e("#prev").click(function(){return i(!0),!1}),e("#next").click(function(){return i(!1),!1});var n=setInterval(function(){todo=(t+1)%4,e("#jsNav a").eq(todo).click()},3e3);e("#jsNav a").hover(function(){clearInterval(n)},function(){n=setInterval(function(){todo=(t+1)%4,e("#jsNav a").eq(todo).click()},1500)}),e("#js li").hover(function(){clearInterval(n)},function(){n=setInterval(function(){todo=(t+1)%4,e("#jsNav a").eq(todo).click()},1500)})}()}),define("view/common",["base/jquery/1.8.3/jquery","common/index","common/login","common/adv"],function(t){var e=t("base/jquery/1.8.3/jquery");e.ajaxSetup({cache:!1}),t("common/index"),t("common/login"),t("common/adv")});